<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Transient.Primitive.PrimRef</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Transient-Primitive-PrimRef.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Transient-Primitive-PrimRef.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">transients-0: Transients</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Unsafe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Transient.Primitive.PrimRef</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Primitive References</a></li><li><a href="#g:2">Frozen Primitive References</a></li><li><a href="#g:3">Atomic Operations</a></li><li><a href="#g:4">Prefetching</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:PrimRef">PrimRef</a> s a = <a href="#v:PrimRef">PrimRef</a> (MutableByteArray s)</li><li class="src short"><a href="#v:newPrimRef">newPrimRef</a> :: (PrimMonad m, Prim a) =&gt; a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a)</li><li class="src short"><a href="#v:newPinnedPrimRef">newPinnedPrimRef</a> :: (PrimMonad m, Prim a) =&gt; a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a)</li><li class="src short"><a href="#v:newAlignedPinnedPrimRef">newAlignedPinnedPrimRef</a> :: (PrimMonad m, Prim a) =&gt; a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a)</li><li class="src short"><a href="#v:readPrimRef">readPrimRef</a> :: (PrimMonad m, Prim a) =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m a</li><li class="src short"><a href="#v:writePrimRef">writePrimRef</a> :: (PrimMonad m, Prim a) =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:primRefContents">primRefContents</a> :: <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> s a -&gt; Addr</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:FrozenPrimRef">FrozenPrimRef</a> a = <a href="#v:FrozenPrimRef">FrozenPrimRef</a> ByteArray</li><li class="src short"><a href="#v:newFrozenPrimRef">newFrozenPrimRef</a> :: Prim a =&gt; a -&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a</li><li class="src short"><a href="#v:unsafeFreezePrimRef">unsafeFreezePrimRef</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a)</li><li class="src short"><a href="#v:unsafeThawPrimRef">unsafeThawPrimRef</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a)</li><li class="src short"><a href="#v:indexFrozenPrimRef">indexFrozenPrimRef</a> :: Prim a =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; a</li><li class="src short"><a href="#v:frozenPrimRefContents">frozenPrimRefContents</a> :: <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; Addr</li><li class="src short"><a href="#v:casInt">casInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:fetchAddInt">fetchAddInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:fetchSubInt">fetchSubInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:fetchAndInt">fetchAndInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:fetchNandInt">fetchNandInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:fetchOrInt">fetchOrInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:fetchXorInt">fetchXorInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:atomicReadInt">atomicReadInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:atomicWriteInt">atomicWriteInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:prefetchPrimRef0">prefetchPrimRef0</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m ()</li><li class="src short"><a href="#v:prefetchPrimRef1">prefetchPrimRef1</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m ()</li><li class="src short"><a href="#v:prefetchPrimRef2">prefetchPrimRef2</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m ()</li><li class="src short"><a href="#v:prefetchPrimRef3">prefetchPrimRef3</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m ()</li><li class="src short"><a href="#v:prefetchFrozenPrimRef0">prefetchFrozenPrimRef0</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m ()</li><li class="src short"><a href="#v:prefetchFrozenPrimRef1">prefetchFrozenPrimRef1</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m ()</li><li class="src short"><a href="#v:prefetchFrozenPrimRef2">prefetchFrozenPrimRef2</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m ()</li><li class="src short"><a href="#v:prefetchFrozenPrimRef3">prefetchFrozenPrimRef3</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m ()</li></ul></div><div id="interface"><h1 id="g:1">Primitive References</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:PrimRef" class="def">PrimRef</a> s a <a href="src/Data-Transient-Primitive-PrimRef.html#PrimRef" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:PrimRef" class="def">PrimRef</a> (MutableByteArray s)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:PrimRef" class="caption collapser" onclick="toggleSection('i:PrimRef')">Instances</p><div id="section.i:PrimRef" class="show"><table><tr><td class="src"><a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> s a) <a href="src/Data-Transient-Primitive-PrimRef.html#line-97" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:newPrimRef" class="def">newPrimRef</a> :: (PrimMonad m, Prim a) =&gt; a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a) <a href="src/Data-Transient-Primitive-PrimRef.html#newPrimRef" class="link">Source</a></p><div class="doc"><p>Create a primitive reference.</p></div></div><div class="top"><p class="src"><a name="v:newPinnedPrimRef" class="def">newPinnedPrimRef</a> :: (PrimMonad m, Prim a) =&gt; a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a) <a href="src/Data-Transient-Primitive-PrimRef.html#newPinnedPrimRef" class="link">Source</a></p><div class="doc"><p>Create a pinned primitive reference.</p></div></div><div class="top"><p class="src"><a name="v:newAlignedPinnedPrimRef" class="def">newAlignedPinnedPrimRef</a> :: (PrimMonad m, Prim a) =&gt; a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a) <a href="src/Data-Transient-Primitive-PrimRef.html#newAlignedPinnedPrimRef" class="link">Source</a></p><div class="doc"><p>Create a pinned primitive reference with the appropriate alignment for its contents.</p></div></div><div class="top"><p class="src"><a name="v:readPrimRef" class="def">readPrimRef</a> :: (PrimMonad m, Prim a) =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m a <a href="src/Data-Transient-Primitive-PrimRef.html#readPrimRef" class="link">Source</a></p><div class="doc"><p>Read a primitive value from the reference</p></div></div><div class="top"><p class="src"><a name="v:writePrimRef" class="def">writePrimRef</a> :: (PrimMonad m, Prim a) =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#writePrimRef" class="link">Source</a></p><div class="doc"><p>Write a primitive value to the reference</p></div></div><div class="top"><p class="src"><a name="v:primRefContents" class="def">primRefContents</a> :: <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> s a -&gt; Addr <a href="src/Data-Transient-Primitive-PrimRef.html#primRefContents" class="link">Source</a></p><div class="doc"><p>Yield a pointer to the data of a <code><a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a></code>. This operation is only safe on pinned byte arrays allocated by
 <code><a href="Data-Transient-Primitive-PrimRef.html#v:newPinnedPrimRef">newPinnedPrimRef</a></code> or <code><a href="Data-Transient-Primitive-PrimRef.html#v:newAlignedPinnedPrimRef">newAlignedPinnedPrimRef</a></code>.</p></div></div><h1 id="g:2">Frozen Primitive References</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:FrozenPrimRef" class="def">FrozenPrimRef</a> a <a href="src/Data-Transient-Primitive-PrimRef.html#FrozenPrimRef" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FrozenPrimRef" class="def">FrozenPrimRef</a> ByteArray</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:FrozenPrimRef" class="caption collapser" onclick="toggleSection('i:FrozenPrimRef')">Instances</p><div id="section.i:FrozenPrimRef" class="show"><table><tr><td class="src">(Prim a, <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Data.html#t:Data">Data</a> a) =&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Data.html#t:Data">Data</a> (<a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a) <a href="src/Data-Transient-Primitive-PrimRef.html#line-189" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:newFrozenPrimRef" class="def">newFrozenPrimRef</a> :: Prim a =&gt; a -&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a <a href="src/Data-Transient-Primitive-PrimRef.html#newFrozenPrimRef" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:unsafeFreezePrimRef" class="def">unsafeFreezePrimRef</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a) <a href="src/Data-Transient-Primitive-PrimRef.html#unsafeFreezePrimRef" class="link">Source</a></p><div class="doc"><p>Convert a mutable <code><a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a></code> to an immutable one without copying. The reference should not be modified after the conversion.</p></div></div><div class="top"><p class="src"><a name="v:unsafeThawPrimRef" class="def">unsafeThawPrimRef</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m (<a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a) <a href="src/Data-Transient-Primitive-PrimRef.html#unsafeThawPrimRef" class="link">Source</a></p><div class="doc"><p>Convert an immutable primitive reference to a mutable one without copying. The original reference should not be used after the conversion.</p></div></div><div class="top"><p class="src"><a name="v:indexFrozenPrimRef" class="def">indexFrozenPrimRef</a> :: Prim a =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; a <a href="src/Data-Transient-Primitive-PrimRef.html#indexFrozenPrimRef" class="link">Source</a></p><div class="doc"><p>Read the stored primitive value from the frozen reference.</p></div></div><div class="top"><p class="src"><a name="v:frozenPrimRefContents" class="def">frozenPrimRefContents</a> :: <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; Addr <a href="src/Data-Transient-Primitive-PrimRef.html#frozenPrimRefContents" class="link">Source</a></p><div class="doc"><p>Yield a pointer to the data of a <code><a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a></code>. This operation is only safe on pinned byte arrays allocated by
 <code><a href="Data-Transient-Primitive-PrimRef.html#v:newPinnedPrimRef">newPinnedPrimRef</a></code> or <code><a href="Data-Transient-Primitive-PrimRef.html#v:newAlignedPinnedPrimRef">newAlignedPinnedPrimRef</a></code> and then subsequently frozen.</p></div></div><h1 id="g:3">Atomic Operations</h1><div class="top"><p class="src"><a name="v:casInt" class="def">casInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#casInt" class="link">Source</a></p><div class="doc"><p>Given a primitive reference, the expected old value, and the new value, perform an atomic compare and swap i.e. write the new value if the current value matches the provided old value. Returns the value of the element before the operation. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:fetchAddInt" class="def">fetchAddInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#fetchAddInt" class="link">Source</a></p><div class="doc"><p>Given a reference, and a value to add, atomically add the value to the element. Returns the value of the element before the operation. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:fetchSubInt" class="def">fetchSubInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#fetchSubInt" class="link">Source</a></p><div class="doc"><p>Given a reference, and a value to subtract, atomically subtract the value from the element. Returns the value of the element before the operation. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:fetchAndInt" class="def">fetchAndInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#fetchAndInt" class="link">Source</a></p><div class="doc"><p>Given a reference, and a value to bitwise and, atomically and the value with the element. Returns the value of the element before the operation. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:fetchNandInt" class="def">fetchNandInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#fetchNandInt" class="link">Source</a></p><div class="doc"><p>Given a reference, and a value to bitwise nand, atomically nand the value with the element. Returns the value of the element before the operation. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:fetchOrInt" class="def">fetchOrInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#fetchOrInt" class="link">Source</a></p><div class="doc"><p>Given a reference, and a value to bitwise or, atomically or the value with the element. Returns the value of the element before the operation. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:fetchXorInt" class="def">fetchXorInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#fetchXorInt" class="link">Source</a></p><div class="doc"><p>Given a reference, and a value to bitwise xor, atomically xor the value with the element. Returns the value of the element before the operation. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:atomicReadInt" class="def">atomicReadInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> <a href="src/Data-Transient-Primitive-PrimRef.html#atomicReadInt" class="link">Source</a></p><div class="doc"><p>Given a reference, read an element. Implies a full memory barrier.</p></div></div><div class="top"><p class="src"><a name="v:atomicWriteInt" class="def">atomicWriteInt</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#atomicWriteInt" class="link">Source</a></p><div class="doc"><p>Given a reference, write an element. Implies a full memory barrier.</p></div></div><h1 id="g:4">Prefetching</h1><div class="top"><p class="src"><a name="v:prefetchPrimRef0" class="def">prefetchPrimRef0</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchPrimRef0" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prefetchPrimRef1" class="def">prefetchPrimRef1</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchPrimRef1" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prefetchPrimRef2" class="def">prefetchPrimRef2</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchPrimRef2" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prefetchPrimRef3" class="def">prefetchPrimRef3</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:PrimRef">PrimRef</a> (PrimState m) a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchPrimRef3" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prefetchFrozenPrimRef0" class="def">prefetchFrozenPrimRef0</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchFrozenPrimRef0" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prefetchFrozenPrimRef1" class="def">prefetchFrozenPrimRef1</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchFrozenPrimRef1" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prefetchFrozenPrimRef2" class="def">prefetchFrozenPrimRef2</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchFrozenPrimRef2" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prefetchFrozenPrimRef3" class="def">prefetchFrozenPrimRef3</a> :: PrimMonad m =&gt; <a href="Data-Transient-Primitive-PrimRef.html#t:FrozenPrimRef">FrozenPrimRef</a> a -&gt; m () <a href="src/Data-Transient-Primitive-PrimRef.html#prefetchFrozenPrimRef3" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>